(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-71df"],{"+jFg":function(t,e,n){"use strict";var i=n("j2As");n.n(i).a},"/Z9z":function(t,e,n){"use strict";n.r(e);var i=n("X5Gd"),s=n("kGjL");for(var r in s)"default"!==r&&function(t){n.d(e,t,(function(){return s[t]}))}(r);var a=n("KHd+"),u=Object(a.a)(s.default,i.a,i.b,!1,null,null,null);u.options.__file="vue-count-down.vue",e.default=u.exports},"3Ci3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_UINT256=e.ZERO_BYTES32=e.ZERO_ADDRESS=void 0;var i=n("W6Pm");e.ZERO_ADDRESS="0x0000000000000000000000000000000000000000",e.ZERO_BYTES32="0x0000000000000000000000000000000000000000000000000000000000000000",e.MAX_UINT256=new i.BN("2").pow(new i.BN("256")).sub(new i.BN("1"))},"9d2b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=b(n("14Xm")),s=b(n("D3Ub")),r=b(n("0dc3")),a=n("kB5k"),u=b(n("/Z9z")),o=b(n("8xqQ")),c=b(n("YaAT")),d=n("ewEw"),l=n("Iawr"),p=n("3Ci3"),f=b(n("P20i")),h=b(n("Lv2y"));function b(t){return t&&t.__esModule?t:{default:t}}var v,m,y,A,w,g,x,k,_,T,C=n("LAvi"),S=n("zGU6").toChecksumAddress;e.default={components:{"count-down":u.default},data:function(){return{status:9,bidAmount:"",countDown:0,endTime:"1603967637",tokenId:"---",highbidder:"---",price:"---",tokenURI:"",trustAuction:null,trustAuctionService:null,usdt:null,trustUsdt:null,usdtBalance:0,approveUSDTValue:0,isOwner:!1,isHighBidder:!1,isClosing:!1,isBidding:!1,isApproving:!1,isApproved:!1,disableApproveButton:!0,domain:{}}},mounted:(T=(0,s.default)(i.default.mark((function t(){var e,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.$route.path,this.tokenURI=e.split("/")[2],n=this,this.$nextTick((function(){n.isConflux?(n.trustAuction=new o.default,n.usdt=new c.default(d.usdtAddress),n.loadAuctionInfo(),n.getApproveUSDT()):(n.trustAuctionService=new f.default(n.web3Account,n.chainType),n.trustUsdt=new h.default(n.web3Account,n.chainType),n.loadWeb3AuctionInfo(),n.getWeb3ApproveUSDT())}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return T.apply(this,arguments)}),computed:{connectedAccount:function(){return this.$store.state.wallet.connectedAccount},web3Account:function(){return this.$store.state.web3.account},isConflux:function(){return this.$store.state.web3.walletType==r.default.CONFLUXPORTAL},chainType:function(){return this.$store.state.web3.chainType}},methods:{loadWeb3AuctionInfo:(_=(0,s.default)(i.default.mark((function t(){var e,n,s,r,u,o,c;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.trustAuctionService.getAuctionIndex(d.bnbTokenAddress,this.tokenURI);case 2:return e=t.sent,n=C.hash(this.tokenURI),t.next=6,this.trustAuctionService.getAuctionByIndex(d.bnbTokenAddress,e);case 6:if(s=t.sent,r="0x"+new a.BigNumber(s.tokenId).toString(16),n==r){t.next=10;break}return t.abrupt("return");case 10:return s.id,this.status=s.status/1,S(this.web3Account)==S(s.seller)&&(this.isOwner=!0),S(this.web3Account)==S(s.bidder)&&(this.isHighBidder=!0),u=s.tokenId,this.tokenId=u.toString(),"0x0000000000000000000000000000000000000000"==s.bidder?this.highbidder=s.seller:this.highbidder=s.bidder,o=s.price/Math.pow(10,18),this.price=o.toFixed(2),this.countDown=s.expiresAt/1-(new Date).getTime()/1e3,this.countDown<0&&(this.countDown=0),this.status>0&&(this.countDown=0),t.next=25,this.trustUsdt.balanceOf(this.web3Account);case 25:c=t.sent,this.usdtBalance=c.div(1e19).toFixed(2);case 27:case"end":return t.stop()}}),t,this)}))),function(){return _.apply(this,arguments)}),loadAuctionInfo:(k=(0,s.default)(i.default.mark((function t(){var e,n,s,r,u,o,c;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.trustAuction.getAuctionIndex(d.tokenAddress,this.tokenURI);case 2:return e=t.sent,n=C.hash(this.tokenURI),t.next=6,this.trustAuction.getAuctionByIndex(d.tokenAddress,e);case 6:if(s=t.sent,r="0x"+new a.BigNumber(s.tokenId).toString(16),n==r){t.next=10;break}return t.abrupt("return");case 10:return s.id,this.status=s.status/1,this.connectedAccount==s.seller&&(this.isOwner=!0),this.connectedAccount==s.bidder&&(this.isHighBidder=!0),u=s.tokenId,this.tokenId=u.toString(),"0x0000000000000000000000000000000000000000"==s.bidder?this.highbidder=s.seller:this.highbidder=s.bidder,o=s.price/Math.pow(10,18),this.price=o.toFixed(2),this.countDown=s.expiresAt/1-(new Date).getTime()/1e3,this.countDown<0&&(this.countDown=0),this.status>0&&(this.countDown=0),t.next=25,this.usdt.balanceOf(this.connectedAccount);case 25:c=t.sent,this.usdtBalance=c.toFixed(2);case 27:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)}),closeAuction:(x=(0,s.default)(i.default.mark((function t(){var e,n=this;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isClosing=!0,l.Notification.info(this,this.$t("auction.close"),this.$t("notify.sureWallet"),5e3),!this.isConflux){t.next=10;break}return t.next=5,this.trustAuction.closeAuction(d.tokenAddress,this.tokenURI);case 5:this.isClosing=!1,l.Notification.success(this,this.$t("notify.success"),this.$t("auction.closeSuccess"),3e3),this.loadAuctionInfo(),t.next=12;break;case 10:e=this,this.trustAuctionService.closeAuction(d.bnbTokenAddress,this.tokenURI,(function(t,e){console.log(e)})).then(function(){var t=(0,s.default)(i.default.mark((function t(s){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loadWeb3AuctionInfo(),e.isClosing=!1,l.Notification.success(e,e.$t("notify.success"),e.$t("auction.closeSuccess"),3e3);case 3:case"end":return t.stop()}}),t,n)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log(t)}));case 12:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)}),bidAuction:(g=(0,s.default)(i.default.mark((function t(){var e,n,r=this;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=this.countDown){t.next=3;break}return l.Notification.error(this,this.$t("app.error"),this.$t("auction.auctionIsOver"),3e3),t.abrupt("return");case 3:if(e=Number(this.bidAmount),!(this.approveUSDTValue<e)){t.next=7;break}return l.Notification.error(this,this.$t("app.error"),this.$t("auction.shouldApproveUSDT"),3e3),t.abrupt("return");case 7:if(!(this.usdtBalance<e)){t.next=10;break}return l.Notification.error(this,this.$t("app.error"),this.$t("auction.shouldHaveEngouhUSDT"),3e3),t.abrupt("return");case 10:if(!(e>=parseInt(this.price,10)+10)){t.next=25;break}if(this.isBidding=!0,l.Notification.info(this,this.$t("auction.bid"),this.$t("notify.sureWallet"),5e3),!this.isConflux){t.next=21;break}return t.next=16,this.trustAuction.bidAuction(d.tokenAddress,this.tokenURI,e*Math.pow(10,18));case 16:l.Notification.success(this,this.$t("notify.success"),this.$t("auction.bidSuccess"),3e3),this.loadAuctionInfo(),this.isBidding=!1,t.next=23;break;case 21:n=this,this.trustAuctionService.bidAuction(d.bnbTokenAddress,this.tokenURI,new a.BigNumber(e*Math.pow(10,18)),(function(t,e){console.log(e)})).then(function(){var t=(0,s.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.isBidding=!1,n.loadWeb3AuctionInfo(),l.Notification.success(n,n.$t("notify.success"),n.$t("auction.bidSuccess"),3e3);case 3:case"end":return t.stop()}}),t,r)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log(t)}));case 23:t.next=26;break;case 25:l.Notification.error(this,this.$t("app.error"),this.$t("app.bidTip"),3e3);case 26:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)}),endAuction:(w=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.countDown>0)){t.next=3;break}return l.Notification.error(this,this.$t("app.error"),this.$t("auction.auctionIsNotOver"),3e3),t.abrupt("return");case 3:return l.Notification.info(this,this.$t("auction.endAuction"),this.$t("notify.sureWallet"),5e3),t.next=6,this.trustAuction.finishAuction(d.tokenAddress,this.tokenURI);case 6:l.Notification.success(this,this.$t("notify.success"),this.$t("auction.endAuctionSuccess"),3e3),this.loadAuctionInfo();case 8:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)}),getWeb3ApproveUSDT:(A=(0,s.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.trustUsdt.allowance(this.web3Account,d.bnbAuctionAddress);case 2:e=t.sent,console.log(e/1),this.approveUSDTValue=e,this.approveUSDTValue>1.0999999999999*this.price?(this.isApproved=!0,console.log(this.isApproved)):this.disableApproveButton=!1;case 6:case"end":return t.stop()}}),t,this)}))),function(){return A.apply(this,arguments)}),approveWeb3USDT:(y=(0,s.default)(i.default.mark((function t(){var e,n,r=this;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=this.web3Account){t.next=2;break}return t.abrupt("return");case 2:this.isApproving=!0,e=p.MAX_UINT256,n=this,this.trustUsdt.approve(d.bnbAuctionAddress,e,(function(t,e){console.log(e)})).then(function(){var t=(0,s.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.isApproving=!1,n.getWeb3ApproveUSDT();case 2:case"end":return t.stop()}}),t,r)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log(t)}));case 6:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)}),getApproveUSDT:(m=(0,s.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isConflux){t.next=3;break}return this.getWeb3ApproveUSDT(),t.abrupt("return");case 3:return t.next=5,this.usdt.allowance(this.connectedAccount,d.trustAuctionAddress);case 5:e=t.sent,console.log(e/1),this.approveUSDTValue=e,this.approveUSDTValue>1.0999999999999*this.price?(this.isApproved=!0,console.log(this.isApproved)):this.disableApproveButton=!1;case 9:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)}),approveUSDT:(v=(0,s.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isConflux){t.next=3;break}return this.approveWeb3USDT(),t.abrupt("return");case 3:if(""!=this.connectedAccount){t.next=5;break}return t.abrupt("return");case 5:return this.isApproving=!0,e=p.MAX_UINT256,t.next=9,this.usdt.approve(d.trustAuctionAddress,e);case 9:this.isApproving=!1,this.getApproveUSDT();case 11:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)}),subTokenUri:function(t){return t.slice(0,10)+"..."+t.slice(-6)},back:function(){console.log("back"),this.$router.back(-1)}}}},Iawr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Notification=void 0;var i=r(n("iCc5")),s=r(n("V7oC"));function r(t){return t&&t.__esModule?t:{default:t}}var a=e.Notification=function(){function t(){(0,i.default)(this,t)}return(0,s.default)(t,null,[{key:"notify",value:function(t,e,n,i,s){t.$notify({title:e,message:n,type:i,duration:s})}},{key:"info",value:function(t,e,n,i){t.$notify.info({title:e,message:n,duration:i})}},{key:"success",value:function(t,e,n,i){t.$notify({title:e,message:n,type:"success",duration:i})}},{key:"error",value:function(t,e,n,i){t.$notify.error({title:e,message:n,duration:i})}}]),t}();e.default=a},KCoV:function(t){t.exports=[{inputs:[{internalType:"address",name:"factory",type:"address"},{internalType:"uint256",name:"totalSupply",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},Lv2y:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrustERC20=void 0;var i=d(n("14Xm")),s=d(n("D3Ub")),r=d(n("iCc5")),a=d(n("V7oC")),u=d(n("meUc")),o=n("kB5k"),c=(n("3Ci3"),n("ewEw"));function d(t){return t&&t.__esModule?t:{default:t}}var l=n("KCoV"),p=e.TrustERC20=function(){function t(e,n){if((0,r.default)(this,t),this.web3=new u.default(window.detectProvider),"BNB"==n?this.web3Reader=new u.default(new u.default.providers.HttpProvider(c.bnbProvider)):"ETH"==n&&(this.web3Reader=new u.default(new u.default.providers.HttpProvider(c.ethProvider))),""!=e)this.account=e;else{var i=this;this.web3.getAccounts((function(t,e){i.account=e[0]}))}this.contract=new this.web3.eth.Contract(l,c.bnbUsdtAddress),this.contractReader=new this.web3Reader.eth.Contract(l,c.bnbUsdtAddress),this.defaultGasPrice=2e10}var e,n,d,p;return(0,a.default)(t,[{key:"balanceOf",value:(p=(0,s.default)(i.default.mark((function t(e){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.methods.balanceOf(e).call();case 2:return n=t.sent,t.next=5,this.getPrecision();case 5:return t.sent,t.abrupt("return",new o.BigNumber(n));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"getPrecision",value:(d=(0,s.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.methods.decimals.call();case 2:return e=t.sent,t.abrupt("return",(0,o.BigNumber)(10).pow((0,o.BigNumber)(e)));case 4:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"allowance",value:(n=(0,s.default)(i.default.mark((function t(e,n){var s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.methods.allowance(e,n).call();case 2:return s=t.sent,t.next=5,this.getPrecision();case 5:return t.sent,t.abrupt("return",(0,o.BigNumber)(s).div(1e19));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"approve",value:(e=(0,s.default)(i.default.mark((function t(e,n,s){var r,a,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.defaultGasPrice,a=this.contract.methods.approve(e,n),t.next=4,a.estimateGas({value:0,from:this.account,to:c.bnbUsdtAddress});case 4:return u=t.sent,t.abrupt("return",a.send({from:this.account,gasPrice:r,gas:Math.round(1.1*u)},s));case 6:case"end":return t.stop()}}),t,this)}))),function(t,n,i){return e.apply(this,arguments)})}]),t}();e.default=p},ReZP:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"auction_detail"},[n("div",{staticClass:"left"},[n("div",{staticClass:"back-icon",on:{click:function(e){t.back()}}},[n("svg-icon",{attrs:{"icon-class":"back"}})],1)]),t._v(" "),n("div",{staticClass:"center"},[n("div",{staticClass:"title"}),t._v(" "),n("div",{staticClass:"token-uri"},[t._v(t._s(t.tokenURI))])]),t._v(" "),n("div",{staticClass:"right"})]),t._v(" "),n("div",{staticClass:"auction_operation"},[n("div",{staticClass:"price"},[0==t.status?n("div",{staticClass:"status atAuction"},[t._v("• "+t._s(t.$t("app.atAuction")))]):t._e(),t._v(" "),1==t.status?n("div",{staticClass:"status sold"},[t._v("• "+t._s(t.$t("app.sold")))]):t._e(),t._v(" "),2==t.status?n("div",{staticClass:"status closed"},[t._v("• "+t._s(t.$t("app.closed")))]):t._e(),t._v(" "),9==t.status?n("div",{staticClass:"status closed"},[t._v("---")]):t._e(),t._v(" "),n("div",{staticClass:"current-title"},[t._v(t._s(t.$t("app.currentPrice")))]),t._v(" "),n("div",{staticClass:"current-price"},[t._v(t._s(t.price)+" $")]),t._v(" "),n("div",{staticClass:"box"},[n("div",{staticClass:"tokenid"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("auction.domain"))+" ID")]),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.tokenId,placement:"top"}},[n("div",{staticClass:"sub-title"},[t._v(t._s(t.subTokenUri(t.tokenId)))])])],1),t._v(" "),n("div",{staticClass:"high-bidder"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("app.highBidder")))]),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.highbidder,placement:"top"}},[n("div",{staticClass:"sub-title"},[t._v(t._s(t.subTokenUri(t.highbidder)))])])],1)]),t._v(" "),t.isOwner?n("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[n("el-button",{staticStyle:{width:"60%"},attrs:{loading:t.isClosing,disabled:2==t.status,type:"primary"},on:{click:function(e){t.closeAuction()}}},[t._v(t._s(t.$t("auction.close")))])],1):t._e(),t._v(" "),t.isHighBidder?n("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[n("div",{staticStyle:{margin:"30px auto","font-size":"14px",width:"60%",padding:"5px","text-align":"left",background:"#F5F6FA","border-radius":"5px"}},[t._v("\n        "+t._s(t.$t("auction.yourAreTheHighestBidder"))+"\n      ")]),t._v(" "),n("el-button",{staticStyle:{width:"60%"},attrs:{loading:t.isClosing,disabled:t.countDown>0||2==t.status,type:"success"},on:{click:function(e){t.endAuction()}}},[t._v(t._s(t.$t("auction.endAuction")))])],1):t._e()]),t._v(" "),n("div",{staticClass:"bid"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("app.joinTheAuction")))]),t._v(" "),n("div",{staticClass:"timer"},[n("count-down",{attrs:{model:"timer",count:t.countDown,endTime:t.endTime}})],1),t._v(" "),n("div",{staticClass:"input"},[n("span",[t._v(t._s(t.$t("app.balance"))+" "),n("span",[t._v(t._s(t.usdtBalance)+" cUSDT")])]),t._v(" "),n("el-input",{attrs:{placeholder:t.$t("app.bidAmount"),oninput:"value=value.replace(/[^0-9.]/g,'')",type:"number",step:"10"},on:{blur:t.getApproveUSDT},model:{value:t.bidAmount,callback:function(e){t.bidAmount=e},expression:"bidAmount"}}),t._v(" "),n("span",{staticClass:"tip"},[t._v(t._s(t.$t("app.bidTip")))])],1),t._v(" "),t.isApproved?t._e():n("div",{staticClass:"bid-button"},[n("el-button",{attrs:{type:"primary",disabled:2==t.status||t.disableApproveButton,plain:"",loading:t.isApproving},on:{click:function(e){t.approveUSDT()}}},[t._v(t._s(t.$t("auction.approve")))])],1),t._v(" "),t.isApproved?n("div",{staticClass:"bid-button"},[n("el-button",{attrs:{type:"primary",loading:t.isBidding},on:{click:function(e){t.bidAuction()}}},[t._v(t._s(t.$t("app.bid")))])],1):t._e()])])])},s=[];n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}))},X5Gd:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._t("default",[["timer"===t.model?[t._v(t._s(t.time.day)+t._s(t.$t("time.day"))+" "+t._s(t.time.hour)+t._s(t.$t("time.hour"))+" "+t._s(t.time.minute)+t._s(t.$t("time.minute"))+" "+t._s(t.time.second)+t._s(t.$t("time.second")))]:[t._v(t._s(t.restCount))]]],{day:t.time.day,hour:t.time.hour,minute:t.time.minute,second:t.time.second,restCount:t.restCount})],2)},s=[];n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}))},YEpA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,s=n("EJiy"),r=(i=s)&&i.__esModule?i:{default:i};e.default={data:function(){return{endTimestamp:0,timer:null,restCount:0,time:{day:0,hour:0,minute:0,second:0}}},props:{endTime:{type:[Number,Date,String]},count:{type:Number,default:0},step:{type:Number,default:1},model:{type:String,default:"timer"}},beforeDestroy:function(){this.clearTimer()},watch:{endTime:{immediate:!0,handler:function(t){t&&this.restart()}},count:{immediate:!0,handler:function(t){t>0&&this.restart(t)}}},computed:{stepTime:function(){return"timer"===this.model?1e3:1e3*Math.max(this.step,1)}},methods:{parseDate:function(t){return"number"==typeof t||"string"==typeof t&&-1===t.indexOf("-")?parseInt(10===t.toString().length?1e3*t:t):"string"==typeof t?new Date(t).getTime():"object"===(0,r.default)(void 0===t?"undefined":(0,r.default)(t))&&t.getTime()},clearTimer:function(){this.timer&&clearTimeout(this.timer)},triggerTimer:function(){var t=this,e=this;this.render(),this.timer=setTimeout((function(){("timer"===e.model?t.getRestTime():--t.restCount)<0?(e.$emit("ended"),e.$emit("update:count",0)):e.triggerTimer()}),this.stepTime)},render:function(){var t=this,e={};if("timer"===this.model){var n=this.getRestTime();this.time.day=this.formatNumber(Math.floor(n/86400)),this.time.hour=this.formatNumber(Math.floor(n%86400/3600)),this.time.minute=this.formatNumber(Math.floor(n%3600/60)),this.time.second=this.formatNumber(Math.floor(n%60)),this.restCount=n,e={day:this.time.day,hour:this.time.hour,minute:this.time.minute,second:this.time.second}}else e={restCount:this.restCount};this.$nextTick((function(){t.$emit("update",e)}))},formatNumber:function(t,e){return t<10?(t=Math.max(t,0),e?"0"+t:t.toString()):t.toString()},getRestTime:function(){return Math.round((this.endTimestamp-Date.now())/1e3)},restart:function(t){this.clearTimer(),"timer"===this.model?t>0?(this.endTimestamp=Date.now()+1e3*t,this.triggerTimer()):this.count>0?(this.endTimestamp=Date.now()+1e3*this.count,this.triggerTimer()):this.endTime&&(this.endTimestamp=this.parseDate(this.endTime),this.endTimestamp&&this.triggerTimer()):t>0?(this.restCount=t,this.triggerTimer()):this.count>0&&(this.restCount=this.count,this.triggerTimer())}}}},YaAT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERC20Reader=void 0;var i=c(n("14Xm")),s=c(n("D3Ub")),r=c(n("iCc5")),a=c(n("V7oC")),u=n("ewEw"),o=n("kB5k");function c(t){return t&&t.__esModule?t:{default:t}}var d=n("jzF0").Conflux,l=n("KCoV"),p=e.ERC20Reader=function(){function t(e){(0,r.default)(this,t),this.token=e,this.conflux=window.confluxJS,this.confluxReader=new d({url:u.confluxProvider,defaultGasPrice:100,defaultGas:1e6}),this.contractReader=this.confluxReader.Contract({abi:l,address:e}),this.contract=this.conflux.Contract({abi:l,address:e})}var e,n,c,p,f,h,b,v;return(0,a.default)(t,[{key:"symbol",value:(v=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.symbol.call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"decimals",value:(b=(0,s.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.decimals.call();case 2:return e=t.sent,t.abrupt("return",(0,o.BigNumber)(e)/1);case 4:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"getPrecision",value:(h=(0,s.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.decimals().call();case 2:return e=t.sent,t.abrupt("return",(0,o.BigNumber)(10).pow((0,o.BigNumber)(e)));case 4:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"balanceOf",value:(f=(0,s.default)(i.default.mark((function t(e){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.balanceOf(e).call();case 2:return n=t.sent,t.t0=new o.BigNumber(parseInt(n.toString(),10)),t.next=6,this.getPrecision();case 6:return t.t1=t.sent,t.abrupt("return",t.t0.div.call(t.t0,t.t1));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"approve",value:(p=(0,s.default)(i.default.mark((function t(e,n){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contract.approve(e,n).sendTransaction({from:this.conflux.defaultAccount}).confirmed();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return p.apply(this,arguments)})},{key:"totalSupply",value:(c=(0,s.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.totalSupply().call();case 2:return e=t.sent,t.t0=new o.BigNumber(parseInt(e.toString(),10)),t.next=6,this.getPrecision();case 6:return t.t1=t.sent,t.abrupt("return",t.t0.div.call(t.t0,t.t1));case 8:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"totalSupply2",value:(n=(0,s.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contract.totalSupply().call();case 2:return e=t.sent,t.t0=new o.BigNumber(parseInt(e.toString(),10)),t.next=6,this.getPrecision();case 6:return t.t1=t.sent,t.abrupt("return",t.t0.div.call(t.t0,t.t1));case 8:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"allowance",value:(e=(0,s.default)(i.default.mark((function t(e,n){var s,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.allowance(e,n).call();case 2:return s=t.sent,t.next=5,this.getPrecision();case 5:return r=t.sent,t.abrupt("return",(0,o.BigNumber)(s).div(r));case 7:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})}]),t}();e.default=p},ewEw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=e.bnbProvider="https://data-seed-prebsc-1-s1.binance.org:8545",s=e.bnbRegistryAddress="0xb6f0dec5f8ebad2fb42f415def2224f3945df51d",r=e.bnbResolverAddress="0xcc09afb83b56779ceed572520ede05de92296926",a=e.bnbTokenAddress="0xb6f0dec5f8ebad2fb42f415def2224f3945df51d",u=e.bnbUsdtAddress="0xc072fb448283c457d8f152724694c9ff151ac364",o=e.bnbAuctionAddress="0x5ea4b8ce8eeaae696592a7acb23920fd76d3bb6c",c=e.ethProvider="https://bsc-dataseed1.defibit.io",d=e.ethRegistryAddress="0xb6f0dec5f8ebad2fb42f415def2224f3945df51d",l=e.ethResolverAddress="0xcc09afb83b56779ceed572520ede05de92296926",p=e.ethTokenAddress="0xb6f0dec5f8ebad2fb42f415def2224f3945df51d",f=(e.ethUsdtAddress="",e.ethAuctionAddress="0x5ea4b8ce8eeaae696592a7acb23920fd76d3bb6c"),h=e.confluxProvider="https://wallet-test.confluxrpc.org",b=e.confluxNSRegistryAddress="0x888fdeafa534b1de688ae78f55a5316152745e65",v=e.confluxNSResolverAddress="0x823e77e31497a781090be2a9bb79ab067804bdaf",m=e.MinterController="0x8eb724f3a9365ba7ebcaa612b979b3ea498d1919",y=e.trustAuctionAddress="0x83fffbe04697d3a6788496b8d89cf290d889bc48",A=e.usdtAddress="0x8b459128f4bf5bf6b8f8a8c04cf7cab93ad2cb1d",w=e.tokenAddress="0x888fdeafa534b1de688ae78f55a5316152745e65";e.default={confluxProvider:h,confluxNSRegistryAddress:b,confluxNSResolverAddress:v,MinterController:m,trustAuctionAddress:y,tokenAddress:w,usdtAddress:A,ethProvider:c,ethAuctionAddress:f,ethRegistryAddress:d,ethResolverAddress:l,ethTokenAddress:p,bnbProvider:i,bnbAuctionAddress:o,bnbRegistryAddress:s,bnbResolverAddress:r,bnbTokenAddress:a,bnbUsdtAddress:u}},hJIv:function(t,e,n){"use strict";n.r(e);var i=n("ReZP"),s=n("nk6e");for(var r in s)"default"!==r&&function(t){n.d(e,t,(function(){return s[t]}))}(r);n("+jFg");var a=n("KHd+"),u=Object(a.a)(s.default,i.a,i.b,!1,null,"64062a00",null);u.options.__file="auction_detail.vue",e.default=u.exports},j2As:function(t,e,n){},kGjL:function(t,e,n){"use strict";n.r(e);var i=n("YEpA"),s=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e.default=s.a},nk6e:function(t,e,n){"use strict";n.r(e);var i=n("9d2b"),s=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e.default=s.a}}]);